argocd: {}

apps:
  - name: argocd-projects
    repoUrl: https://github.com/torbencarstens/argocd-projects.git
    targetRevision: master
    namespace: argocd
    project: argocd
    syncWave: 1
  - name: rbac
    repoUrl: https://github.com/torbencarstens/rbac.git
    targetRevision: master
    syncWave: 0
  - name: argocd
    repoUrl: https://github.com/torbencarstens/argocd.git
    targetRevision: master
    syncWave: 5
    project: argocd
    namespace: argocd
  # is this even useful?
  - name: argocd-bootstrap
    repoUrl: https://github.com/openalcoholics/argocd-bootstrap.git
    targetRevision: master
    project: argocd
    namespace: argocd
    syncWave: 5
  - name: ingress-controller
    repoUrl: https://github.com/torbencarstens/ingress-controller.git
    targetRevision: master
    syncWave: 2
  - name: cert-manager
    repoUrl: https://github.com/torbencarstens/cert-manager.git
    targetRevision: master
    namespace: cert-manager
    syncWave: 3
  - name: longhorn
    repoUrl: https://github.com/torbencarstens/longhorn.git
    targetRevision: master
    namespace: longhorn-system
    syncWave: 6
  - name: rancher
    repoUrl: https://github.com/torbencarstens/rancher.git
    targetRevision: master
    namespace: cattle-system
    syncWave: 7
  - name: external-secrets
    repoUrl: https://github.com/torbencarstens/external-secrets.git
    targetRevision: master
    syncWave: -1
  - name: postgres-operator
    repoUrl: https://github.com/OpenAlcoholics/postgres-operator.git
    targetRevision: argocd
    namespace: postgres-operator
  - name: istio
    repoUrl: https://github.com/torbencarstens/istio.git
    targetRevision: master
    namespace: istio-system
    ignoreDifferences:
    - group: admissionregistration.k8s.io
      kind: ValidatingWebhookConfiguration
      name: istiod-default-validator
      jqPathExpressions:
        - .webhooks[].matchPolicy
    - group: admissionregistration.k8s.io
      kind: ValidatingWebhookConfiguration
      name: istiod-default-validator
      jqPathExpressions:
        - .webhooks[].failurePolicy
  - name: jaeger
    repoUrl: https://github.com/torbencarstens/jaeger.git
    targetRevision: master
    namespace: observability
  - name: kubernetes-mgmt
    repoUrl: https://github.com/torbencarstens/kubernetes-mgmt.git
    targetRevision: master
